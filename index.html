<html>
<link rel="stylesheet" href="./css/w3.css">

  <body onload=loadTable()>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      function formatTable(content){
	  var dataArr = content.split("\n");

	  //for each line in array
	  $.each(dataArr,function(){
              if (this != "") {

		  //split line and create row
		  var row = new String("");
		  valArr = this.split(",");
		  row += "<tr>"

		  $.each(valArr, function(){
                      row += "<td>" + this +"</td>"
		  });

		  row += "</tr>"

		  //Add row to table
		  $('tbody').append(row);

              }
	  })
      }

      function loadTable()
      {
	  var content;
	  //Parse CSV File
	  //split on new line
	  fetch("obstable.csv") //here you would put the url of the file (if it's in the same directory just the name should suffice
	      .then((response) => response.text())
	      .then((data) => formatTable(data));
//	      .then((data) => console.log(data))
      }

      </script>
    <div class="w3-container, w3-responsive">
    <table class="w3-table-all">
    <thead>
        <tr>
            <th> GRB ID </th>
            <th class="w3-center"> Triggering instrument</th>
		<th class="w3-center"> Alert time </th>
            <th class="w3-center"> GRB RA (J2000)</th>
            <th class="w3-center"> GRB Dec (J2000)</th>
            <th> HESS window</th>
            <th class="w3-center"> Obs mode</th>
            <th class="w3-center"> Reaction</th>
            <th> Contact</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table>
</div>
  </body>
</html>
